<div class="container-fluid full-screen-container">
    <div class="container login mb-5 d-flex rounded-4">
        <div class="d-flex text-black mt-4" style="flex-direction: column; align-items: center;">
            <h1 class="fw-bold fs-2">Log In</h1>
            <p>~ Apenas funcionarios ~</p>
        </div>

        <div class="needs-validation" style="width: 330px; margin-top: -15px;" novalidate>
            <div class="mb-3 mt-2">
                <label for="emailInput" class="form-label" style="margin-bottom: -5px;">Email:</label>
                <input type="email" class="form-control" id="emailInput" placeholder="nome@exemplo.com" [(ngModel)]="email" required>
                <div class="invalid-feedback" [ngClass]="{'d-block': isEmailInvalid, 'd-none': !isEmailInvalid}">
                    Insira seu email por favor.
                </div>
            </div>
            <div class="position-relative">
                <label for="passwordInput" class="form-label" style="margin-bottom: -5px;">Senha:</label>
                <input [type]="passwordVisibilityType" class="form-control" id="passwordInput" placeholder="senha" [(ngModel)]="password" required>

                <button type="button" class="btn position-absolute translate-middle-y me-2"
                    style="top: 70%; right: 0%; margin-right: 0px !important;"
                    (click)="togglePasswordVisibility()">
                    <i [ngClass]="isPasswordVisible ? 'bi bi-eye-slash' : 'bi bi-eye'"></i>
                </button>
            </div>

            <div class="d-flex mt-1" style="width: 100%; flex-direction: row-reverse; justify-content: space-between;"
                [ngClass]="{'mb-1': userNotFound, 'mb-3': !userNotFound}"
            >
                <a routerLink="#" class="fw-bold" style="color: #7D0009; font-size: smaller;">
                    Esqueceu sua senha?
                </a>
                <div class="invalid-feedback" style="max-width: 170px;" [ngClass]="{'d-block': isPasswordInvalid, 'd-none': !isPasswordInvalid}">
                    Insira sua senha por favor.
                </div>
            </div>

            <div class="d-flex fw-bold mt-1 mb-3" style="justify-content: center;"
                [ngClass]="{'d-block': isLoading, 'd-none': !isLoading}">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>

            <div class="d-flex fw-bold mt-1 mb-3" style="color: #7D0009; font-size: medium; justify-content: center;"
                [ngClass]="{'d-block': userNotFound, 'd-none': !userNotFound}">
                Email ou Senha estão incorretos. Tente novamente
            </div>

            <div class="d-flex fw-bold mt-1 mb-3" style="color: #7D0009; font-size: medium; justify-content: center;"
                [ngClass]="{'d-block': userNotAllowed, 'd-none': !userNotAllowed}">
                Usuário não permitido! Apenas Empregados ou Administradores
            </div>
        </div>

        <div class="d-flex g-4" style="width: 330px; justify-content: space-between;">
            <div class="">
                <button type="submit" class="btn btn-lg btn-success shadow-lg fw-bold" style="width: 150px;" (click)="login()">
                    CONFIRMAR
                </button>
            </div>
            <div class="">
                <button type="submit" class="btn btn-lg btn-danger shadow-lg fw-bold" style="width: 150px;" (click)="cancel()">
                    CANCELAR
                </button>
            </div>
        </div>
    </div>
</div>
